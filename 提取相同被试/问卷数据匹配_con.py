import os
import re
import pandas as pd
import numpy as np
#输入待筛选的文件,文件必须用反斜线'/'，不能用'\'，程序要用
ori_files =  'D:/张以昊/课题组/张以昊/psychopy/SAND数据提取/2023_04_10_CDI/CDI_con.csv'
filenames = '2020_002_pat_lusitong|2020_002_pat_lusitong|2020_005_pat_zhengxinning|2020_005_pat_zhengxinning|2020_006_pat_zhangruicong|2020_006_pat_zhangruicong|2020_007_pat_lixiang|2020_007_pat_lixiang|2020_008_pat_liushuhua|2020_008_pat_liushuhua|2020_009_pat_zhujingwen|2020_009_pat_zhujingwen|2020_012_pat_songqian|2020_012_pat_songqian|2020_013_pat_wangjunpu|2020_013_pat_wangjunpu|2020_016_pat_lijiajia|2020_016_pat_lijiajia|2020_017_pat_jiayinuo|2020_017_pat_jiayinuo|2020_019_pat_chenxinjie|2020_019_pat_chenxinjie|2020_020_pat_zhuruixiang|2020_020_pat_zhuruixiang|2020_022_pat_liutianyu|2020_022_pat_liutianyu|2020_023_pat_dengruomei|2020_023_pat_dengruomei|2020_024_pat_huangmengrao|2020_024_pat_huangmengrao|2020_025_pat_chenxuefei|2020_025_pat_chenxuefei|2020_027_pat_menglin|2020_027_pat_menglin|2020_028_pat_yanqirui|2020_028_pat_yanqirui|2021_029_pat_yumengxin|2021_029_pat_yumengxin|2021_031_pat_zhangfanyue|2021_031_pat_zhangfanyue|2021_032_pat_xuranran|2021_032_pat_xuranran|2021_035_pat_guoyiran|2021_035_pat_guoyiran|2021_037_pat_guoenru|2021_037_pat_guoenru|2021_040_pat_xingxinyue|2021_040_pat_xingxinyue|2021_042_pat_haozhuoyue|2021_042_pat_haozhuoyue|2021_043_pat_zhangyi|2021_043_pat_zhangyi|2021_046_pat_zhouyaxuan|2021_046_pat_zhouyaxuan|2021_047_pat_yuzirun|2021_047_pat_yuzirun|2021_049_pat_wushanyan|2021_049_pat_wushanyan|2021_051_pat_liuxinyuan|2021_051_pat_liuxinyuan|2021_057_pat_sunmengyang|2021_057_pat_sunmengyang|2021_058_pat_jiaolili|2021_058_pat_jiaolili|2021_059_pat_shenruotong|2021_059_pat_shenruotong|2021_061_pat_zhangfenghua|2021_061_pat_zhangfenghua|2021_065_pat_yuweiqi|2021_065_pat_yuweiqi|2021_068_pat_xinyinglin|2021_068_pat_xinyinglin|2021_073_pat_qijinghan|2021_073_pat_qijinghan|2022_086_pat_lihuixin|2022_086_pat_lihuixin|2022_088_pat_chenguanxi|2022_088_pat_chenguanxi|2022_093_pat_hemengjiao|2022_093_pat_hemengjiao|2022_095_pat_wangshixu|2022_095_pat_wangshixu'
output_file = pd.read_csv(ori_files, encoding='GBK')
# output_file = pd.read_excel(i, encoding ='GBK')
output_file = output_file[output_file['filename'].str.contains(filenames)]
temp = ori_files.split('/')
# 根据文件类型选择
# output_file.to_excel(output_name, index=False)
output_file.to_csv(temp[-1],encoding='GBK',index=False)